{"ast":null,"code":"import _classCallCheck from \"/root/Desktop/SWE-2022/client/comments/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { isBrowser } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { ToastManager } from \"./toast-manager\";\nvar portalId = \"chakra-toast-portal\";\n\nvar Toaster =\n/**\n * Initialize the manager and mount it in the DOM\n * inside the portal node.\n *\n * @todo\n *\n * Update toast constructor to use `PortalManager`'s node or document.body.\n * Once done, we can remove the `zIndex` in `toast.manager.tsx`\n */\nfunction Toaster() {\n  var _this2 = this;\n\n  _classCallCheck(this, Toaster);\n\n  var _this = this;\n\n  _defineProperty(this, \"createToast\", void 0);\n\n  _defineProperty(this, \"removeAll\", void 0);\n\n  _defineProperty(this, \"closeToast\", void 0);\n\n  _defineProperty(this, \"updateToast\", void 0);\n\n  _defineProperty(this, \"isToastActive\", void 0);\n\n  _defineProperty(this, \"bindFunctions\", function (methods) {\n    _this2.createToast = methods.notify;\n    _this2.removeAll = methods.closeAll;\n    _this2.closeToast = methods.close;\n    _this2.updateToast = methods.update;\n    _this2.isToastActive = methods.isActive;\n  });\n\n  _defineProperty(this, \"notify\", function (message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return _this.createToast == null ? void 0 : _this.createToast(message, options);\n  });\n\n  _defineProperty(this, \"close\", function (id) {\n    var _this$closeToast;\n\n    (_this$closeToast = _this2.closeToast) == null ? void 0 : _this$closeToast.call(_this2, id);\n  });\n\n  _defineProperty(this, \"closeAll\", function () {\n    var _this$removeAll;\n\n    (_this$removeAll = _this2.removeAll) == null ? void 0 : _this$removeAll.call(_this2);\n  });\n\n  _defineProperty(this, \"update\", function (id, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this.updateToast == null ? void 0 : _this.updateToast(id, options);\n    window.scrollBy({\n      top: 10\n    });\n    window.scrollBy({\n      top: -10\n    });\n  });\n\n  _defineProperty(this, \"isActive\", function (id) {\n    var _this$isToastActive;\n\n    return (_this$isToastActive = _this2.isToastActive) == null ? void 0 : _this$isToastActive.call(_this2, id);\n  });\n\n  if (!isBrowser) return;\n  var portal;\n  var existingPortal = document.getElementById(portalId);\n\n  if (existingPortal) {\n    portal = existingPortal;\n  } else {\n    var _document$body;\n\n    var div = document.createElement(\"div\");\n    div.id = portalId;\n    (_document$body = document.body) == null ? void 0 : _document$body.appendChild(div);\n    portal = div;\n  }\n\n  render( /*#__PURE__*/React.createElement(ToastManager, {\n    notify: this.bindFunctions\n  }), portal);\n};\n\nexport var toast = new Toaster();","map":{"version":3,"sources":["../../src/toast.class.tsx"],"names":["portalId","constructor","existingPortal","document","portal","div","render","bindFunctions","methods","options","id","window","top","toast"],"mappings":"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","sourcesContent":["import { isBrowser } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { render } from \"react-dom\"\nimport { Methods, ToastManager } from \"./toast-manager\"\nimport { ToastId, ToastMessage, ToastOptions } from \"./toast.types\"\n\nconst portalId = \"chakra-toast-portal\"\n\nclass Toaster {\n  private createToast?: Methods[\"notify\"]\n  private removeAll?: Methods[\"closeAll\"]\n  private closeToast?: Methods[\"close\"]\n  private updateToast?: Methods[\"update\"]\n  private isToastActive?: Methods[\"isActive\"]\n\n  /**\n   * Initialize the manager and mount it in the DOM\n   * inside the portal node.\n   *\n   * @todo\n   *\n   * Update toast constructor to use `PortalManager`'s node or document.body.\n   * Once done, we can remove the `zIndex` in `toast.manager.tsx`\n   */\n  constructor() {\n    if (!isBrowser) return\n\n    let portal: HTMLElement\n    const existingPortal = document.getElementById(portalId)\n\n    if (existingPortal) {\n      portal = existingPortal\n    } else {\n      const div = document.createElement(\"div\")\n      div.id = portalId\n      document.body?.appendChild(div)\n      portal = div\n    }\n\n    render(<ToastManager notify={this.bindFunctions} />, portal)\n  }\n\n  private bindFunctions = (methods: Methods) => {\n    this.createToast = methods.notify\n    this.removeAll = methods.closeAll\n    this.closeToast = methods.close\n    this.updateToast = methods.update\n    this.isToastActive = methods.isActive\n  }\n\n  notify = (message: ToastMessage, options: Partial<ToastOptions> = {}) => {\n    return this.createToast?.(message, options)\n  }\n\n  close = (id: ToastId) => {\n    this.closeToast?.(id)\n  }\n\n  closeAll = () => {\n    this.removeAll?.()\n  }\n\n  update = (id: ToastId, options: Partial<ToastOptions> = {}) => {\n    this.updateToast?.(id, options)\n    window.scrollBy({ top: 10 })\n    window.scrollBy({ top: -10 })\n  }\n\n  isActive = (id: ToastId) => {\n    return this.isToastActive?.(id)\n  }\n}\n\nexport const toast = new Toaster()\n"]},"metadata":{},"sourceType":"module"}