{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useDisclosure, useEventListener, useId } from \"@chakra-ui/hooks\";\nimport { usePopper } from \"@chakra-ui/popper\";\nimport { callAllHandlers, mergeRefs } from \"@chakra-ui/utils\";\nimport { useCallback, useEffect, useRef } from \"react\";\nexport function useTooltip(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var {\n    openDelay = 0,\n    closeDelay = 0,\n    closeOnClick = true,\n    closeOnMouseDown,\n    onOpen: onOpenProp,\n    onClose: onCloseProp,\n    placement,\n    id,\n    isOpen: isOpenProp,\n    defaultIsOpen,\n    arrowSize = 10,\n    modifiers,\n    isDisabled,\n    gutter,\n    offset\n  } = props,\n      htmlProps = _objectWithoutPropertiesLoose(props, [\"openDelay\", \"closeDelay\", \"closeOnClick\", \"closeOnMouseDown\", \"onOpen\", \"onClose\", \"placement\", \"id\", \"isOpen\", \"defaultIsOpen\", \"arrowSize\", \"modifiers\", \"isDisabled\", \"gutter\", \"offset\"]);\n\n  var {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure({\n    isOpen: isOpenProp,\n    defaultIsOpen,\n    onOpen: onOpenProp,\n    onClose: onCloseProp\n  });\n  var popper = usePopper({\n    forceUpdate: isOpen,\n    placement,\n    arrowSize,\n    modifiers,\n    gutter,\n    offset\n  });\n  var tooltipId = useId(id, \"tooltip\");\n  var ref = useRef(null);\n  var triggerRef = mergeRefs(ref, popper.reference.ref);\n  var enterTimeout = useRef();\n  var exitTimeout = useRef();\n  var openWithDelay = useCallback(() => {\n    if (!isDisabled) {\n      enterTimeout.current = window.setTimeout(onOpen, openDelay);\n    }\n  }, [isDisabled, onOpen, openDelay]);\n  var closeWithDelay = useCallback(() => {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current);\n    }\n\n    exitTimeout.current = window.setTimeout(onClose, closeDelay);\n  }, [closeDelay, onClose]);\n  var onClick = useCallback(() => {\n    if (closeOnClick) {\n      closeWithDelay();\n    }\n  }, [closeOnClick, closeWithDelay]);\n  var onMouseDown = useCallback(() => {\n    if (closeOnMouseDown) {\n      closeWithDelay();\n    }\n  }, [closeOnMouseDown, closeWithDelay]);\n\n  var onKeyDown = event => {\n    if (isOpen && event.key === \"Escape\") {\n      closeWithDelay();\n    }\n  };\n\n  useEventListener(\"keydown\", onKeyDown);\n  useEffect(() => {\n    return () => {\n      clearTimeout(enterTimeout.current);\n      clearTimeout(exitTimeout.current);\n    };\n  }, []);\n  var getTriggerProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(ref, triggerRef),\n      onMouseLeave: callAllHandlers(props.onMouseLeave, closeWithDelay),\n      onMouseEnter: callAllHandlers(props.onMouseEnter, openWithDelay),\n      onClick: callAllHandlers(props.onClick, onClick),\n      onMouseDown: callAllHandlers(props.onMouseDown, onMouseDown),\n      onFocus: callAllHandlers(props.onFocus, openWithDelay),\n      onBlur: callAllHandlers(props.onBlur, closeWithDelay),\n      \"aria-describedby\": isOpen ? tooltipId : undefined\n    });\n  }, [closeWithDelay, isOpen, onClick, onMouseDown, openWithDelay, tooltipId, triggerRef]);\n  var getTooltipProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, htmlProps, props, {\n      id: tooltipId,\n      role: \"tooltip\",\n      ref: mergeRefs(ref, popper.popper.ref),\n      style: _extends({}, props.style, popper.popper.style)\n    });\n  }, [htmlProps, popper.popper.ref, popper.popper.style, tooltipId]);\n  var getArrowProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      ref: mergeRefs(ref, popper.arrow.ref),\n      style: _extends({}, props.style, popper.arrow.style)\n    });\n  }, [popper.arrow.ref, popper.arrow.style]);\n  return {\n    isOpen,\n    show: openWithDelay,\n    hide: closeWithDelay,\n    placement: popper.placement,\n    getTriggerProps,\n    getTooltipProps,\n    getArrowProps\n  };\n}","map":{"version":3,"sources":["../../src/use-tooltip.ts"],"names":["props","openDelay","closeDelay","closeOnClick","onOpen","onClose","isOpen","arrowSize","offset","htmlProps","useDisclosure","onCloseProp","popper","usePopper","forceUpdate","tooltipId","useId","ref","useRef","triggerRef","mergeRefs","enterTimeout","exitTimeout","openWithDelay","useCallback","window","closeWithDelay","clearTimeout","onClick","onMouseDown","onKeyDown","event","useEventListener","useEffect","getTriggerProps","onMouseLeave","callAllHandlers","onMouseEnter","onFocus","onBlur","undefined","getTooltipProps","id","role","style","getArrowProps","show","hide","placement"],"mappings":"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","sourcesContent":["import { useDisclosure, useEventListener, useId } from \"@chakra-ui/hooks\"\nimport { Placement, usePopper, UsePopperProps } from \"@chakra-ui/popper\"\nimport { callAllHandlers, mergeRefs, PropGetter } from \"@chakra-ui/utils\"\nimport { useCallback, useEffect, useRef } from \"react\"\n\nexport interface UseTooltipProps\n  extends Pick<\n    UsePopperProps,\n    \"arrowSize\" | \"modifiers\" | \"gutter\" | \"offset\"\n  > {\n  /**\n   * Delay (in ms) before showing the tooltip\n   * @default 0ms\n   */\n  openDelay?: number\n  /**\n   * Delay (in ms) before hiding the tooltip\n   * @default 0ms\n   */\n  closeDelay?: number\n  /**\n   * If `true`, the tooltip will hide on click\n   */\n  closeOnClick?: boolean\n  /**\n   * If `true`, the tooltip will hide while the mouse\n   * is down\n   */\n  closeOnMouseDown?: boolean\n  /**\n   * Callback to run when the tooltip shows\n   */\n  onOpen?(): void\n  /**\n   * Callback to run when the tooltip hides\n   */\n  onClose?(): void\n  /**\n   * The Popper.js placement of the tooltip\n   */\n  placement?: Placement\n  /**\n   * Custom `id` to use in place of `uuid`\n   */\n  id?: string\n  /**\n   * If `true`, the tooltip will be shown (in controlled mode)\n   */\n  isOpen?: boolean\n  /**\n   * If `true`, the tooltip will be initially shown\n   */\n  defaultIsOpen?: boolean\n  isDisabled?: boolean\n}\n\nexport function useTooltip(props: UseTooltipProps = {}) {\n  const {\n    openDelay = 0,\n    closeDelay = 0,\n    closeOnClick = true,\n    closeOnMouseDown,\n    onOpen: onOpenProp,\n    onClose: onCloseProp,\n    placement,\n    id,\n    isOpen: isOpenProp,\n    defaultIsOpen,\n    arrowSize = 10,\n    modifiers,\n    isDisabled,\n    gutter,\n    offset,\n    ...htmlProps\n  } = props\n\n  const { isOpen, onOpen, onClose } = useDisclosure({\n    isOpen: isOpenProp,\n    defaultIsOpen,\n    onOpen: onOpenProp,\n    onClose: onCloseProp,\n  })\n\n  const popper = usePopper({\n    forceUpdate: isOpen,\n    placement,\n    arrowSize,\n    modifiers,\n    gutter,\n    offset,\n  })\n\n  const tooltipId = useId(id, \"tooltip\")\n\n  const ref = useRef<any>(null)\n  const triggerRef = mergeRefs(ref, popper.reference.ref)\n\n  const enterTimeout = useRef<number>()\n  const exitTimeout = useRef<number>()\n\n  const openWithDelay = useCallback(() => {\n    if (!isDisabled) {\n      enterTimeout.current = window.setTimeout(onOpen, openDelay)\n    }\n  }, [isDisabled, onOpen, openDelay])\n\n  const closeWithDelay = useCallback(() => {\n    if (enterTimeout.current) {\n      clearTimeout(enterTimeout.current)\n    }\n    exitTimeout.current = window.setTimeout(onClose, closeDelay)\n  }, [closeDelay, onClose])\n\n  const onClick = useCallback(() => {\n    if (closeOnClick) {\n      closeWithDelay()\n    }\n  }, [closeOnClick, closeWithDelay])\n\n  const onMouseDown = useCallback(() => {\n    if (closeOnMouseDown) {\n      closeWithDelay()\n    }\n  }, [closeOnMouseDown, closeWithDelay])\n\n  const onKeyDown = (event: KeyboardEvent) => {\n    if (isOpen && event.key === \"Escape\") {\n      closeWithDelay()\n    }\n  }\n\n  useEventListener(\"keydown\", onKeyDown)\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(enterTimeout.current)\n      clearTimeout(exitTimeout.current)\n    }\n  }, [])\n\n  const getTriggerProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      ref: mergeRefs(ref, triggerRef),\n      onMouseLeave: callAllHandlers(props.onMouseLeave, closeWithDelay),\n      onMouseEnter: callAllHandlers(props.onMouseEnter, openWithDelay),\n      onClick: callAllHandlers(props.onClick, onClick),\n      onMouseDown: callAllHandlers(props.onMouseDown, onMouseDown),\n      onFocus: callAllHandlers(props.onFocus, openWithDelay),\n      onBlur: callAllHandlers(props.onBlur, closeWithDelay),\n      \"aria-describedby\": isOpen ? tooltipId : undefined,\n    }),\n    [\n      closeWithDelay,\n      isOpen,\n      onClick,\n      onMouseDown,\n      openWithDelay,\n      tooltipId,\n      triggerRef,\n    ],\n  )\n\n  const getTooltipProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...htmlProps,\n      ...props,\n      id: tooltipId,\n      role: \"tooltip\",\n      ref: mergeRefs(ref, popper.popper.ref),\n      style: {\n        ...props.style,\n        ...popper.popper.style,\n      },\n    }),\n    [htmlProps, popper.popper.ref, popper.popper.style, tooltipId],\n  )\n\n  const getArrowProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      ref: mergeRefs(ref, popper.arrow.ref),\n      style: { ...props.style, ...popper.arrow.style },\n    }),\n    [popper.arrow.ref, popper.arrow.style],\n  )\n\n  return {\n    isOpen,\n    show: openWithDelay,\n    hide: closeWithDelay,\n    placement: popper.placement,\n    getTriggerProps,\n    getTooltipProps,\n    getArrowProps,\n  }\n}\n\nexport type UseTooltipReturn = ReturnType<typeof useTooltip>\n"]},"metadata":{},"sourceType":"module"}