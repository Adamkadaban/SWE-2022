{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { useTimeout } from \"@chakra-ui/hooks\";\nimport { Transition } from \"@chakra-ui/transition\";\nimport { isFunction, __DEV__ } from \"@chakra-ui/utils\";\nimport ReachAlert from \"@reach/alert\";\nimport { useRect } from \"@reach/rect\";\nimport * as React from \"react\";\nimport { getToastStyle } from \"./toast.utils\";\nexport var Toast = props => {\n  var _rect$height;\n\n  var {\n    id,\n    message,\n    onCloseComplete,\n    onRequestRemove,\n    requestClose = false,\n    position = \"bottom\",\n    duration = 5000\n  } = props;\n  var ref = React.useRef(null);\n  var [delay, setDelay] = React.useState(duration);\n  var [show, setShow] = React.useState(true);\n  React.useEffect(() => {\n    setDelay(duration);\n  }, [duration]);\n\n  var onMouseEnter = () => {\n    setDelay(null);\n  };\n\n  var onMouseLeave = () => {\n    setDelay(duration);\n  };\n\n  var onExited = () => {\n    if (!show) {\n      onRequestRemove();\n    }\n\n    onCloseComplete == null ? void 0 : onCloseComplete();\n  };\n\n  var close = () => {\n    setShow(false);\n  };\n\n  React.useEffect(() => {\n    if (requestClose) {\n      setShow(false);\n    }\n  }, [requestClose]);\n  useTimeout(close, delay);\n  var style = React.useMemo(() => getToastStyle(position), [position]);\n  var rect = useRect(ref);\n  var height = (_rect$height = rect == null ? void 0 : rect.height) != null ? _rect$height : 0;\n  var isTop = position.includes(\"top\");\n  /**\n   * @todo\n   *\n   * Make it possible to configure this toast transition\n   * from `theme.transitions.toast`\n   */\n\n  var y = isTop ? \"-\" + height + \"px\" : 0;\n  var styles = {\n    init: {\n      opacity: 0,\n      height: 0,\n      transform: \"translateY(\" + y + \") scale(1)\"\n    },\n    entered: {\n      opacity: 1,\n      height,\n      transform: \"translateY(0) scale(1)\"\n    },\n    exiting: {\n      opacity: 0,\n      height: 0,\n      transform: \"translateY(0) scale(0.9)\"\n    }\n  };\n  return /*#__PURE__*/React.createElement(Transition, {\n    styles: styles\n    /**\n     * We use the `easeInOutQuint` from https://easings.net/en#\n     */\n    ,\n    transition: \"all 0.3s cubic-bezier(0.23, 1, 0.32, 1)\",\n    in: show,\n    timeout: {\n      enter: 0,\n      exit: 150\n    },\n    onExited: onExited\n  }, styles => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-toast\": \"\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    style: _extends({\n      willChange: \"transform, height, opacity\"\n    }, style, styles)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    \"data-toast-inner\": \"\",\n    style: {\n      pointerEvents: \"auto\",\n      maxWidth: 560,\n      minWidth: 300\n    }\n  }, /*#__PURE__*/React.createElement(ReachAlert, null, isFunction(message) ? message({\n    id,\n    onClose: close\n  }) : message))));\n};\n\nif (__DEV__) {\n  Toast.displayName = \"Toast\";\n}","map":{"version":3,"sources":["../../src/toast.tsx"],"names":["Toast","props","requestClose","position","duration","ref","React","setDelay","onMouseEnter","onMouseLeave","onExited","onRequestRemove","onCloseComplete","close","setShow","useTimeout","style","getToastStyle","rect","useRect","height","isTop","y","styles","init","opacity","transform","entered","exiting","enter","exit","willChange","pointerEvents","maxWidth","minWidth","message","onClose"],"mappings":"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","sourcesContent":["import { useTimeout } from \"@chakra-ui/hooks\"\nimport { Transition } from \"@chakra-ui/transition\"\nimport { isFunction, __DEV__ } from \"@chakra-ui/utils\"\nimport ReachAlert from \"@reach/alert\"\nimport { useRect } from \"@reach/rect\"\nimport * as React from \"react\"\nimport { ToastOptions } from \"./toast.types\"\nimport { getToastStyle } from \"./toast.utils\"\n\nexport interface ToastProps extends ToastOptions {\n  requestClose?: boolean\n}\n\nexport const Toast: React.FC<ToastProps> = (props) => {\n  const {\n    id,\n    message,\n    onCloseComplete,\n    onRequestRemove,\n    requestClose = false,\n    position = \"bottom\",\n    duration = 5000,\n  } = props\n\n  const ref = React.useRef<HTMLDivElement>(null)\n  const [delay, setDelay] = React.useState(duration)\n  const [show, setShow] = React.useState(true)\n\n  React.useEffect(() => {\n    setDelay(duration)\n  }, [duration])\n\n  const onMouseEnter = () => {\n    setDelay(null)\n  }\n\n  const onMouseLeave = () => {\n    setDelay(duration)\n  }\n\n  const onExited = () => {\n    if (!show) {\n      onRequestRemove()\n    }\n    onCloseComplete?.()\n  }\n\n  const close = () => {\n    setShow(false)\n  }\n\n  React.useEffect(() => {\n    if (requestClose) {\n      setShow(false)\n    }\n  }, [requestClose])\n\n  useTimeout(close, delay)\n\n  const style = React.useMemo(() => getToastStyle(position), [position])\n\n  const rect = useRect(ref)\n  const height = rect?.height ?? 0\n\n  const isTop = position.includes(\"top\")\n\n  /**\n   * @todo\n   *\n   * Make it possible to configure this toast transition\n   * from `theme.transitions.toast`\n   */\n  const y = isTop ? `-${height}px` : 0\n\n  const styles = {\n    init: {\n      opacity: 0,\n      height: 0,\n      transform: `translateY(${y}) scale(1)`,\n    },\n    entered: {\n      opacity: 1,\n      height,\n      transform: `translateY(0) scale(1)`,\n    },\n    exiting: {\n      opacity: 0,\n      height: 0,\n      transform: `translateY(0) scale(0.9)`,\n    },\n  }\n\n  return (\n    <Transition\n      styles={styles}\n      /**\n       * We use the `easeInOutQuint` from https://easings.net/en#\n       */\n      transition=\"all 0.3s cubic-bezier(0.23, 1, 0.32, 1)\"\n      in={show}\n      timeout={{ enter: 0, exit: 150 }}\n      onExited={onExited}\n    >\n      {(styles) => (\n        <div\n          data-toast=\"\"\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}\n          style={{\n            willChange: \"transform, height, opacity\",\n            ...style,\n            ...styles,\n          }}\n        >\n          <div\n            ref={ref}\n            data-toast-inner=\"\"\n            style={{ pointerEvents: \"auto\", maxWidth: 560, minWidth: 300 }}\n          >\n            <ReachAlert>\n              {isFunction(message) ? message({ id, onClose: close }) : message}\n            </ReachAlert>\n          </div>\n        </div>\n      )}\n    </Transition>\n  )\n}\n\nif (__DEV__) {\n  Toast.displayName = \"Toast\"\n}\n"]},"metadata":{},"sourceType":"module"}