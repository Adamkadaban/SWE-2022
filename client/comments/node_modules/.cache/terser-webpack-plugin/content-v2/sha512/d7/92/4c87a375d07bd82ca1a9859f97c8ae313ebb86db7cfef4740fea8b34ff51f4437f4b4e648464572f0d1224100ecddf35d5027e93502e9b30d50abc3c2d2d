{"map":{"version":3,"sources":["static/js/main.bfbaaab5.chunk.js"],"names":["this","push","107","module","__webpack_exports__","__webpack_require__","r","chakra_provider","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","flex","spinner","container","stack","box","regenerator","regenerator_default","asyncToGenerator","use_disclosure","esm_button","modal","form_control","esm_textarea","index_cjs","firebase","a","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","add_new_post","_useDisclosure","Object","isOpen","onOpen","onClose","_useState","_useState2","title","setTitle","_useState3","_useState4","isSaving","setSaving","handleSubmit","_ref","mark","_callee","date","wrap","_context","prev","next","Date","collection","add","upVotesCount","downVotesCount","createdAt","toUTCString","updatedAt","stop","apply","arguments","createElement","Fragment","onClick","colorScheme","isCentered","id","type","value","onChange","e","target","spacing","disabled","trim","isLoading","navbar","position","top","p","bg","zIndex","maxW","centerContent","justifyContent","w","esm_text","icon_button","index_esm","vote_buttons","post","isVoting","setVoting","votedPosts","setVotedPosts","votesFromLocalStorage","localStorage","getItem","previousVotes","JSON","parse","error","console","handleDisablingOfVoting","postId","setItem","stringify","handleClick","_ref2","doc","set","_x","checkIfPostIsAlreadyVoted","indexOf","size","aria-label","icon","isDisabled","rounded","components_post","key","alignItems","app","posts","setPosts","setLoading","orderBy","get","then","querySnapshot","data","docs","map","onSnapshot","_posts","forEach","minH","render","StrictMode","document","getElementById","84","exports"],"mappings":"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"},"code":"(this[\"webpackJsonpreddit-clone\"]=this[\"webpackJsonpreddit-clone\"]||[]).push([[0],{107:function(e,t,n){\"use strict\";n.r(t);var a=n(127),r=n(0),c=n.n(r),o=n(40),l=n.n(o),i=n(48),u=n(2),s=n(123),d=n(129),m=n(122),p=n(120),f=n(121),E=n(32),b=n.n(E),g=n(41),O=n(128),v=n(75),C=n(126),j=n(51),w=n(119),y=n(68),S=n.n(y).a.initializeApp({apiKey:\"AIzaSyA90nWci9Og0ZkyjiYYt6DuDybOrykCJ3o\",authDomain:\"comments-59fdf.firebaseapp.com\",projectId:\"comments-59fdf\",storageBucket:\"comments-59fdf.appspot.com\",messagingSenderId:\"460136898488\",appId:\"1:460136898488:web:14935515477222e3b4f94d\",measurementId:\"G-X0P98SV0HJ\"}).firestore(),h=function(){var e=Object(O.a)(),t=e.isOpen,n=e.onOpen,a=e.onClose,o=Object(r.useState)(\"\"),l=Object(u.a)(o,2),i=l[0],s=l[1],d=Object(r.useState)(!1),m=Object(u.a)(d,2),f=m[0],E=m[1],y=function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),t=new Date,e.next=4,S.collection(\"posts\").add({title:i,upVotesCount:0,downVotesCount:0,createdAt:t.toUTCString(),updatedAt:t.toUTCString()});case 4:a(),s(\"\"),E(!1);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onClick:n,colorScheme:\"blue\"},\"Add new post\"),c.a.createElement(C.a,{onClose:a,isOpen:t,isCentered:!0},c.a.createElement(C.g,null,c.a.createElement(C.d,null,c.a.createElement(C.f,null,\"Add new post\"),c.a.createElement(C.c,null),c.a.createElement(C.b,null,c.a.createElement(j.a,{id:\"post-title\"},c.a.createElement(j.b,null,\"Post title\"),c.a.createElement(w.a,{type:\"post-title\",value:i,onChange:function(e){return s(e.target.value)}}))),c.a.createElement(C.e,null,c.a.createElement(p.a,{spacing:4},c.a.createElement(v.a,{onClick:a},\"Close\"),c.a.createElement(v.a,{onClick:y,colorScheme:\"blue\",disabled:!i.trim(),isLoading:f},\"Save\")))))))},k=function(){return c.a.createElement(f.a,{position:\"sticky\",top:0,p:4,bg:\"gray.100\",zIndex:1},c.a.createElement(m.a,{maxW:\"md\",centerContent:!0},c.a.createElement(s.a,{justifyContent:\"flex-end\",w:\"100%\",position:\"sticky\",top:0},c.a.createElement(h,null))))},A=n(125),x=n(124),I=n(50),V=function(e){var t=e.post,n=Object(r.useState)(!1),a=Object(u.a)(n,2),o=a[0],l=a[1],i=Object(r.useState)([]),s=Object(u.a)(i,2),d=s[0],m=s[1];Object(r.useEffect)((function(){var e=localStorage.getItem(\"votes\")||[],t=[];try{t=JSON.parse(e)}catch(n){console.error(n)}m(t)}),[]);var f=function(e){var t=d;t.push(e),m(t),localStorage.setItem(\"votes\",JSON.stringify(d))},E=function(){var e=Object(g.a)(b.a.mark((function e(n){var a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),a=t.upVotesCount,r=t.downVotesCount,c=new Date,\"upvote\"===n?a+=1:r+=1,e.next=7,S.collection(\"posts\").doc(t.id).set({title:t.title,upVotesCount:a,downVotesCount:r,createdAt:t.createdAt,updatedAt:c.toUTCString()});case 7:f(t.id),l(!1);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return d.indexOf(t.id)>-1};return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.b,null,c.a.createElement(x.a,{size:\"lg\",colorScheme:\"purple\",\"aria-label\":\"Upvote\",icon:c.a.createElement(I.b,null),onClick:function(){return E(\"upvote\")},isLoading:o,isDisabled:O()}),c.a.createElement(A.a,{bg:\"gray.100\",rounded:\"md\",w:\"100%\",p:1},t.upVotesCount)),c.a.createElement(p.b,null,c.a.createElement(x.a,{size:\"lg\",colorScheme:\"yellow\",\"aria-label\":\"Downvote\",icon:c.a.createElement(I.a,null),onClick:function(){return E(\"downvote\")},isLoading:o,isDisabled:O()}),c.a.createElement(A.a,{bg:\"gray.100\",rounded:\"md\",w:\"100%\",p:1},t.downVotesCount)))},D=function(e){var t=e.post;return c.a.createElement(p.a,{key:t.id,w:\"100%\",alignItems:\"flex-start\"},c.a.createElement(V,{post:t}),c.a.createElement(f.a,{bg:\"gray.100\",p:4,rounded:\"md\",w:\"100%\"},c.a.createElement(A.a,null,t.title)))},J=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!0),l=Object(u.a)(o,2),f=l[0],E=l[1];return Object(r.useEffect)((function(){S.collection(\"posts\").orderBy(\"createdAt\",\"desc\").get().then((function(e){var t=e.docs.map((function(e){return Object(i.a)({id:e.id},e.data())}));a(t),E(!1)}))}),[]),Object(r.useEffect)((function(){S.collection(\"posts\").orderBy(\"createdAt\",\"desc\").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)({id:e.id},e.data()))})),a(t)}))}),[]),f?c.a.createElement(s.a,{minH:\"100vh\",justifyContent:\"center\",alignItems:\"center\"},c.a.createElement(d.a,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null),c.a.createElement(m.a,{maxW:\"md\",centerContent:!0,p:8},c.a.createElement(p.b,{spacing:8,w:\"100%\"},n.map((function(e){return c.a.createElement(D,{post:e,key:e.id})})))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(a.a,null,c.a.createElement(J,null))),document.getElementById(\"root\"))},84:function(e,t,n){e.exports=n(107)}},[[84,1,2]]]);","extractedComments":[]}