{"map":{"version":3,"sources":["static/js/main.b5cd3234.chunk.js"],"names":["this","push","110","module","__webpack_exports__","__webpack_require__","r","chakra_provider","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","flex","spinner","container","stack","dist","regenerator","regenerator_default","asyncToGenerator","index_cjs","firebase","a","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","navbar","createElement","className","to","box","esm_text","icon_button","index_esm","vote_buttons","_ref","post","_useState","Object","_useState2","isVoting","setVoting","_useState3","_useState4","votedPosts","setVotedPosts","votesFromLocalStorage","localStorage","getItem","previousVotes","JSON","parse","error","console","handleDisablingOfVoting","postId","setItem","stringify","handleClick","_ref2","mark","_callee","type","upVotesCount","downVotesCount","date","wrap","_context","prev","next","Date","collection","doc","id","set","title","createdAt","updatedAt","toUTCString","stop","_x","apply","arguments","checkIfPostIsAlreadyVoted","indexOf","Fragment","size","colorScheme","aria-label","icon","onClick","isLoading","isDisabled","bg","rounded","w","p","components_post","key","alignItems","app","posts","setPosts","setLoading","orderBy","get","then","querySnapshot","data","docs","map","onSnapshot","_posts","forEach","minH","justifyContent","maxW","centerContent","spacing","render","StrictMode","document","getElementById","87","exports"],"mappings":"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"},"code":"(this[\"webpackJsonpreddit-clone\"]=this[\"webpackJsonpreddit-clone\"]||[]).push([[0],{110:function(e,t,a){\"use strict\";a.r(t);var n=a(130),r=a(0),c=a.n(r),o=a(44),l=a.n(o),s=a(51),i=a(1),u=a(127),m=a(132),d=a(128),p=a(123),g=a(36),f=a(3),E=a.n(f),b=a(11),v=(a(131),a(78),a(129),a(54),a(122),a(71)),y=a.n(v).a.initializeApp({apiKey:\"AIzaSyA90nWci9Og0ZkyjiYYt6DuDybOrykCJ3o\",authDomain:\"comments-59fdf.firebaseapp.com\",projectId:\"comments-59fdf\",storageBucket:\"comments-59fdf.appspot.com\",messagingSenderId:\"460136898488\",appId:\"1:460136898488:web:14935515477222e3b4f94d\",measurementId:\"G-X0P98SV0HJ\"}).firestore(),h=function(){return c.a.createElement(\"div\",{className:\"w-screen h-fit shadow-sm\"},c.a.createElement(\"div\",{className:\"flex flex-row justify-between pr-4 pl-4\"},c.a.createElement(\"div\",{className:\"p-4\"},c.a.createElement(\"h1\",{className:\"text-2xl text-orange-500   font-semibold\"},c.a.createElement(g.a,{to:\"/\"},\" Anonymous Messaging Web Application\"))),c.a.createElement(\"div\",{className:\"flex flex-row gap-4 pr-4\"},c.a.createElement(\"div\",{className:\"text-gray-500 text-lg pt-4 pl-2 pr-2 hover:bg-gray-100\"},c.a.createElement(g.a,{to:\"/Communities\"},\"Communities\")),c.a.createElement(\"div\",{className:\"text-gray-500 text-lg pt-4 pl-2 pr-2 hover:bg-gray-100\"},c.a.createElement(g.a,{to:\"/Messaging\"},\"Messaging\")),c.a.createElement(\"div\",{className:\"text-gray-500 text-lg pt-4 pl-2 pr-2 hover:bg-gray-100\"},c.a.createElement(g.a,{to:\"/Statistics\"},\"Statistics\")),c.a.createElement(\"div\",{className:\"text-gray-500 text-lg pt-4 pl-2 pr-2 hover:bg-gray-100\"},c.a.createElement(g.a,{to:\"/Login\"},\"Login\")))))},w=a(126),x=a(125),O=a(124),j=a(53),S=function(e){var t=e.post,a=Object(r.useState)(!1),n=Object(i.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)([]),u=Object(i.a)(s,2),m=u[0],d=u[1];Object(r.useEffect)((function(){var e=localStorage.getItem(\"votes\")||[],t=[];try{t=JSON.parse(e)}catch(a){console.error(a)}d(t)}),[]);var g=function(e){var t=m;t.push(e),d(t),localStorage.setItem(\"votes\",JSON.stringify(m))},f=function(){var e=Object(b.a)(E.a.mark((function e(a){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n=t.upVotesCount,r=t.downVotesCount,c=new Date,\"upvote\"===a?n+=1:r+=1,e.next=7,y.collection(\"posts\").doc(t.id).set({title:t.title,upVotesCount:n,downVotesCount:r,createdAt:t.createdAt,updatedAt:c.toUTCString()});case 7:g(t.id),l(!1);case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){return m.indexOf(t.id)>-1};return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.b,null,c.a.createElement(O.a,{size:\"lg\",colorScheme:\"purple\",\"aria-label\":\"Upvote\",icon:c.a.createElement(j.b,null),onClick:function(){return f(\"upvote\")},isLoading:o,isDisabled:v()}),c.a.createElement(x.a,{bg:\"gray.100\",rounded:\"md\",w:\"100%\",p:1},t.upVotesCount)),c.a.createElement(p.b,null,c.a.createElement(O.a,{size:\"lg\",colorScheme:\"yellow\",\"aria-label\":\"Downvote\",icon:c.a.createElement(j.a,null),onClick:function(){return f(\"downvote\")},isLoading:o,isDisabled:v()}),c.a.createElement(x.a,{bg:\"gray.100\",rounded:\"md\",w:\"100%\",p:1},t.downVotesCount)))},C=function(e){var t=e.post;return c.a.createElement(p.a,{key:t.id,w:\"100%\",alignItems:\"flex-start\"},c.a.createElement(S,{post:t}),c.a.createElement(w.a,{bg:\"gray.100\",p:4,rounded:\"md\",w:\"100%\"},c.a.createElement(x.a,null,t.title)))},N=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!0),l=Object(i.a)(o,2),g=l[0],f=l[1];return Object(r.useEffect)((function(){y.collection(\"posts\").orderBy(\"createdAt\",\"desc\").get().then((function(e){var t=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));n(t),f(!1)}))}),[]),Object(r.useEffect)((function(){y.collection(\"posts\").orderBy(\"createdAt\",\"desc\").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(s.a)({id:e.id},e.data()))})),n(t)}))}),[]),g?c.a.createElement(u.a,{minH:\"100vh\",justifyContent:\"center\",alignItems:\"center\"},c.a.createElement(m.a,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement(d.a,{maxW:\"md\",centerContent:!0,p:8},c.a.createElement(p.b,{spacing:8,w:\"100%\"},a.map((function(e){return c.a.createElement(C,{post:e,key:e.id})})))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(n.a,null,c.a.createElement(N,null))),document.getElementById(\"root\"))},87:function(e,t,a){e.exports=a(110)}},[[87,1,2]]]);","extractedComments":[]}