import { isNumber, isCustomBreakpoint } from "@chakra-ui/utils";
import calculateMeasurement from "calculate-measurement";

function createMediaQueries(breakpoints) {
  /**
   * Get the non-number breakpoint keys from the provided breakpoints
   *
   * reverse to begin with the largest
   */
  var keys = Object.keys(breakpoints).filter(isCustomBreakpoint).reverse();
  /**
   * create a min-max media query string
   */

  return keys.map((breakpoint, index) => {
    var minWidth = breakpoints[breakpoint];
    var next = keys[index - 1];
    var maxWidth = next ? breakpoints[next] : undefined;
    var query = createMediaQueryString(minWidth, maxWidth);
    return {
      breakpoint,
      maxWidth,
      minWidth,
      query
    };
  });
}
/**
 * Create a media query string from the breakpoints,
 * using a combination of `min-width` and `max-width`.
 */


function createMediaQueryString(minWidth, maxWidth) {
  var hasMinWidth = parseInt(minWidth) >= 0;

  if (!hasMinWidth && !maxWidth) {
    return "";
  }

  var query = "(min-width: " + toMediaString(minWidth) + ")";

  if (!maxWidth) {
    return query;
  }

  if (query) {
    query += " and ";
  }

  query += "(max-width: " + toMediaString(subtract(maxWidth)) + ")";
  return query;
}

function subtract(value) {
  return calculateMeasurement(value, -0.01);
}
/**
 * Convert media query value to string
 */


function toMediaString(value) {
  return isNumber(value) ? value + "px" : value;
}

export default createMediaQueries;
//# sourceMappingURL=create-media-query.js.map