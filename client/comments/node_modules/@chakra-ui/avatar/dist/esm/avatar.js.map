{"version":3,"sources":["../../src/avatar.tsx"],"names":["useImage","chakra","forwardRef","omitThemingProps","StylesProvider","useMultiStyleConfig","useStyles","cx","__DEV__","React","AvatarBadge","props","ref","styles","badgeStyles","position","display","alignItems","justifyContent","right","bottom","badge","className","displayName","initials","name","firstName","lastName","split","charAt","AvatarName","getInitials","rest","label","DefaultIcon","width","height","baseStyle","textAlign","textTransform","fontWeight","flexShrink","Avatar","src","showBorder","borderRadius","onError","icon","children","borderColor","avatarStyles","borderWidth","undefined","container","AvatarImage","status","hasLoaded","showFallback","cloneElement","role","objectFit"],"mappings":"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","sourcesContent":["import { useImage } from \"@chakra-ui/image\"\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  PropsOf,\n  StylesProvider,\n  SystemProps,\n  SystemStyleObject,\n  ThemingProps,\n  useMultiStyleConfig,\n  useStyles,\n} from \"@chakra-ui/system\"\nimport { cx, __DEV__ } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\n\ninterface AvatarOptions {\n  /**\n   * The name of the person in the avatar.\n   *\n   * - if `src` has loaded, the name will be used as the `alt` attribute of the `img`\n   * - If `src` is not loaded, the name will be used to create the initials\n   */\n  name?: string\n  /**\n   * The size of the avatar.\n   */\n  size?: string\n  /**\n   * If `true`, the `Avatar` will show a border around it.\n   *\n   * Best for a group of avatars\n   */\n  showBorder?: boolean\n  /**\n   * The badge at the bottom right corner of the avatar.\n   */\n  children?: React.ReactNode\n  /**\n   * The image url of the `Avatar`\n   */\n  src?: string\n  /**\n   * List of sources to use for different screen resolutions\n   */\n  srcSet?: string\n  /**\n   * The border color of the avatar\n   */\n  borderColor?: SystemProps[\"borderColor\"]\n  /**\n   * Function called when image failed to load\n   */\n  onError?: () => void\n  /**\n   * The default avatar used as fallback when `name`, and `src`\n   * is not specified.\n   */\n  icon?: React.ReactElement\n  /**\n   * Function to get the initials to display\n   */\n  getInitials?: (name: string) => string\n}\n\nexport interface AvatarBadgeProps extends PropsOf<typeof chakra.div> {}\n\n/**\n * AvatarBadge used to show extra badge to the top-right\n * or bottom-right corner of an avatar.\n */\nexport const AvatarBadge = forwardRef<AvatarBadgeProps, \"div\">(\n  function AvatarBadge(props, ref) {\n    const styles = useStyles()\n    const badgeStyles = {\n      position: \"absolute\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      right: \"0\",\n      bottom: \"0\",\n      ...styles.badge,\n    }\n\n    return (\n      <chakra.div\n        ref={ref}\n        {...props}\n        className={cx(\"chakra-avatar__badge\", props.className)}\n        __css={badgeStyles}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  AvatarBadge.displayName = \"AvatarBadge\"\n}\n\nfunction initials(name: string) {\n  const [firstName, lastName] = name.split(\" \")\n  return firstName && lastName\n    ? `${firstName.charAt(0)}${lastName.charAt(0)}`\n    : firstName.charAt(0)\n}\n\ninterface AvatarNameProps\n  extends PropsOf<typeof chakra.div>,\n    Pick<AvatarOptions, \"name\" | \"getInitials\"> {}\n\n/**\n * The avatar name container\n */\nconst AvatarName: React.FC<AvatarNameProps> = (props) => {\n  const { name, getInitials, ...rest } = props\n  const styles = useStyles()\n\n  return (\n    <chakra.div aria-label={name} {...rest} __css={styles.label}>\n      {name ? getInitials?.(name) : null}\n    </chakra.div>\n  )\n}\n\n/**\n * Fallback avatar react component.\n * This should be a generic svg used to represent an avatar\n */\nconst DefaultIcon: React.FC<PropsOf<\"svg\">> = (props) => {\n  return (\n    <svg\n      viewBox=\"0 0 128 128\"\n      color=\"#fff\"\n      style={{ width: \"100%\", height: \"100%\" }}\n      {...props}\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z\"\n      />\n      <path\n        fill=\"currentColor\"\n        d=\"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24\"\n      />\n    </svg>\n  )\n}\n\nexport const baseStyle: SystemStyleObject = {\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  fontWeight: \"medium\",\n  position: \"relative\",\n  flexShrink: 0,\n}\n\nexport interface AvatarProps\n  extends Omit<PropsOf<typeof chakra.span>, \"onError\">,\n    AvatarOptions,\n    ThemingProps {}\n\n/**\n * Avatar component that renders an user avatar with\n * support for fallback avatar and name-only avatars\n */\nexport const Avatar = forwardRef<AvatarProps, \"span\">(function Avatar(\n  props,\n  ref,\n) {\n  const styles = useMultiStyleConfig(\"Avatar\", props)\n\n  const {\n    src,\n    name,\n    showBorder,\n    borderRadius = \"full\",\n    onError,\n    getInitials = initials,\n    icon = <DefaultIcon />,\n    children,\n    borderColor,\n    ...rest\n  } = omitThemingProps(props)\n\n  const avatarStyles = {\n    borderRadius,\n    borderWidth: showBorder ? \"2px\" : undefined,\n    ...baseStyle,\n    ...styles.container,\n  }\n\n  if (borderColor) {\n    avatarStyles.borderColor = borderColor\n  }\n\n  return (\n    <chakra.span\n      ref={ref}\n      {...rest}\n      className={cx(\"chakra-avatar\", props.className)}\n      __css={avatarStyles}\n    >\n      <StylesProvider value={styles}>\n        <AvatarImage\n          src={src}\n          onError={onError}\n          getInitials={getInitials}\n          name={name}\n          borderRadius={borderRadius}\n          icon={icon}\n        />\n        {children}\n      </StylesProvider>\n    </chakra.span>\n  )\n})\n\nif (__DEV__) {\n  Avatar.displayName = \"Avatar\"\n}\n\ninterface AvatarImageProps\n  extends Pick<\n    AvatarProps,\n    \"src\" | \"onError\" | \"name\" | \"getInitials\" | \"borderRadius\" | \"icon\"\n  > {}\n\nconst AvatarImage: React.FC<AvatarImageProps> = ({\n  src,\n  onError,\n  getInitials,\n  name,\n  borderRadius,\n  icon = <DefaultIcon />,\n}) => {\n  /**\n   * use the image hook to only show the image when it has loaded\n   */\n  const status = useImage({ src, onError })\n\n  const hasLoaded = status === \"loaded\"\n\n  /**\n   * Fallback avatar applies under 2 conditions:\n   * - If `src` was passed and the image has not loaded or failed to load\n   * - If `src` wasn't passed\n   *\n   * In this case, we'll show either the name avatar or default avatar\n   */\n  const showFallback = !src || (src && !hasLoaded)\n\n  if (showFallback) {\n    return name ? (\n      <AvatarName\n        className=\"chakra-avatar__initials\"\n        getInitials={getInitials}\n        name={name}\n      />\n    ) : (\n      React.cloneElement(icon, { role: \"img\" })\n    )\n  }\n\n  /**\n   * If `src` was passed and the image has loaded, we'll show it\n   */\n  return (\n    <chakra.img\n      src={src}\n      alt={name}\n      className=\"chakra-avatar__img\"\n      __css={{\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n        borderRadius,\n      }}\n    />\n  )\n}\n\nif (__DEV__) {\n  AvatarImage.displayName = \"AvatarImage\"\n}\n"],"file":"avatar.js"}