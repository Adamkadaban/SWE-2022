{"version":3,"sources":["../../src/avatar-group.tsx"],"names":["chakra","useMultiStyleConfig","omitThemingProps","forwardRef","getValidChildren","__DEV__","cx","filterUndefined","React","baseStyle","AvatarGroup","props","ref","styles","children","borderColor","max","spacing","borderRadius","rest","validChildren","childrenWithinMax","slice","excess","length","reversedChildren","reverse","clones","map","child","index","isFirstAvatar","childProps","mr","size","showBorder","cloneElement","groupStyles","display","alignItems","justifyContent","flexDirection","excessStyles","ml","excessLabel","className","displayName"],"mappings":";;;;AAAA,SACEA,MADF,EAKEC,mBALF,EAMEC,gBANF,EAOEC,UAPF,QAQO,mBARP;AASA,SACEC,gBADF,EAEEC,OAFF,EAGEC,EAHF,EAIEC,eAJF,QAKO,kBALP;AAMA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,UAA1B;;AAwBA;;;AAGA,OAAO,IAAMC,WAAW,gBAAGP,UAAU,CACnC,SAASO,WAAT,CAAqBC,KAArB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAMC,MAAM,GAAGZ,mBAAmB,CAAC,QAAD,EAAWU,KAAX,CAAlC;;AAEA,0BAOIT,gBAAgB,CAACS,KAAD,CAPpB;AAAA,MAAM;AACJG,IAAAA,QADI;AAEJC,IAAAA,WAFI;AAGJC,IAAAA,GAHI;AAIJC,IAAAA,OAAO,GAAG,UAJN;AAKJC,IAAAA,YAAY,GAAG;AALX,GAAN;AAAA,MAMKC,IANL;;AASA,MAAMC,aAAa,GAAGhB,gBAAgB,CAACU,QAAD,CAAtC;AAEA;;;;AAGA,MAAMO,iBAAiB,GAAGL,GAAG,GAAGI,aAAa,CAACE,KAAd,CAAoB,CAApB,EAAuBN,GAAvB,CAAH,GAAiCI,aAA9D;AAEA;;;;AAGA,MAAMG,MAAM,GAAGP,GAAG,IAAI,IAAP,IAAeI,aAAa,CAACI,MAAd,GAAuBR,GAArD;AAEA;;;;;AAIA,MAAMS,gBAAgB,GAAGJ,iBAAiB,CAACK,OAAlB,EAAzB;AAEA,MAAMC,MAAM,GAAGF,gBAAgB,CAACG,GAAjB,CAAqB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACpD,QAAMC,aAAa,GAAGD,KAAK,KAAK,CAAhC;AAEA,QAAME,UAAU,GAAG;AACjBC,MAAAA,EAAE,EAAEF,aAAa,GAAG,CAAH,GAAOd,OADP;AAEjBiB,MAAAA,IAAI,EAAEvB,KAAK,CAACuB,IAFK;AAGjBnB,MAAAA,WAAW,EAAEc,KAAK,CAAClB,KAAN,CAAYI,WAAZ,IAA2BA,WAHvB;AAIjBoB,MAAAA,UAAU,EAAE;AAJK,KAAnB;AAOA,wBAAO3B,KAAK,CAAC4B,YAAN,CAAmBP,KAAnB,EAA0BtB,eAAe,CAACyB,UAAD,CAAzC,CAAP;AACD,GAXc,CAAf;AAaA,MAAMK,WAAW,GAAG;AAClBC,IAAAA,OAAO,EAAE,MADS;AAElBC,IAAAA,UAAU,EAAE,QAFM;AAGlBC,IAAAA,cAAc,EAAE,UAHE;AAIlBC,IAAAA,aAAa,EAAE;AAJG,GAApB;;AAOA,MAAMC,YAAY;AAChBxB,IAAAA,YADgB;AAEhByB,IAAAA,EAAE,EAAE1B;AAFY,KAGbR,SAHa,EAIbI,MAAM,CAAC+B,WAJM,CAAlB;;AAOA,sBACE,oBAAC,MAAD,CAAQ,GAAR;AACE,IAAA,GAAG,EAAEhC,GADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAEyB;AAHT,KAIMlB,IAJN;AAKE,IAAA,SAAS,EAAEb,EAAE,CAAC,sBAAD,EAAyBK,KAAK,CAACkC,SAA/B;AALf,MAOGtB,MAAM,GAAG,CAAT,iBACC,oBAAC,MAAD,CAAQ,IAAR;AACE,IAAA,SAAS,EAAC,uBADZ;AAEE,IAAA,KAAK,EAAEmB,YAFT;AAGE,IAAA,QAAQ,QAAMnB;AAHhB,IARJ,EAcGI,MAdH,CADF;AAkBD,CA5EkC,CAA9B;;AA+EP,IAAItB,OAAJ,EAAa;AACXK,EAAAA,WAAW,CAACoC,WAAZ,GAA0B,aAA1B;AACD","sourcesContent":["import {\n  chakra,\n  PropsOf,\n  SystemProps,\n  ThemingProps,\n  useMultiStyleConfig,\n  omitThemingProps,\n  forwardRef,\n} from \"@chakra-ui/system\"\nimport {\n  getValidChildren,\n  __DEV__,\n  cx,\n  filterUndefined,\n} from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { baseStyle } from \"./avatar\"\n\ninterface AvatarGroupOptions {\n  /**\n   * The children of the avatar group.\n   *\n   * Ideally should be `Avatar` and `MoreIndicator` components\n   */\n  children: React.ReactNode\n  /**\n   * The space between the avatars in the group.\n   */\n  spacing?: SystemProps[\"margin\"]\n  /**\n   * The maximum number of visible avatars\n   */\n  max?: number\n}\n\nexport interface AvatarGroupProps\n  extends AvatarGroupOptions,\n    Omit<PropsOf<typeof chakra.div>, \"children\">,\n    ThemingProps {}\n\n/**\n * AvatarGroup displays a number of avatars grouped together in a stack.\n */\nexport const AvatarGroup = forwardRef<AvatarGroupProps, \"div\">(\n  function AvatarGroup(props, ref) {\n    const styles = useMultiStyleConfig(\"Avatar\", props)\n\n    const {\n      children,\n      borderColor,\n      max,\n      spacing = \"-0.75rem\",\n      borderRadius = \"full\",\n      ...rest\n    } = omitThemingProps(props)\n\n    const validChildren = getValidChildren(children)\n\n    /**\n     * get the avatars within the max\n     */\n    const childrenWithinMax = max ? validChildren.slice(0, max) : validChildren\n\n    /**\n     * get the remaining avatar count\n     */\n    const excess = max != null && validChildren.length - max\n\n    /**\n     * Reversing the children is a great way to avoid using zIndex\n     * to overlap the avatars\n     */\n    const reversedChildren = childrenWithinMax.reverse()\n\n    const clones = reversedChildren.map((child, index) => {\n      const isFirstAvatar = index === 0\n\n      const childProps = {\n        mr: isFirstAvatar ? 0 : spacing,\n        size: props.size,\n        borderColor: child.props.borderColor || borderColor,\n        showBorder: true,\n      }\n\n      return React.cloneElement(child, filterUndefined(childProps))\n    })\n\n    const groupStyles = {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      flexDirection: \"row-reverse\",\n    }\n\n    const excessStyles = {\n      borderRadius,\n      ml: spacing,\n      ...baseStyle,\n      ...styles.excessLabel,\n    }\n\n    return (\n      <chakra.div\n        ref={ref}\n        role=\"group\"\n        __css={groupStyles}\n        {...rest}\n        className={cx(\"chakra-avatar__group\", props.className)}\n      >\n        {excess > 0 && (\n          <chakra.span\n            className=\"chakra-avatar__excess\"\n            __css={excessStyles}\n            children={`+${excess}`}\n          />\n        )}\n        {clones}\n      </chakra.div>\n    )\n  },\n)\n\nif (__DEV__) {\n  AvatarGroup.displayName = \"AvatarGroup\"\n}\n"],"file":"avatar-group.js"}